<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://zsibot.github.io/sdk-docs/api/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Interface - ZsiBot Docs</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Interface";
        var mkdocs_page_input_path = "api.md";
        var mkdocs_page_url = "/sdk-docs/api/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> ZsiBot Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../sdk_download/">Downloads</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../deploy/">Deploy</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../architecutre/">Architecture</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Interface</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#1-app">1. App 控制接口函数介绍</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#11-initrobot">1.1. 创建连接 -&gt; initRobot</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#12-checkconnection">1.2. 检查通讯状态 -&gt; checkConnection</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#13-standup">1.3. 站起 -&gt; standUP</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#14-liedown">1.4. 趴下 -&gt; lieDown</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#15-passive">1.5. 阻尼 -&gt; passive</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#16-move">1.6. 移动 -&gt; move</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#17-jump">1.7. 原地跳 -&gt; jump</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#18-frontjump">1.8. 向前跳 -&gt; frontJump</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#19-backflip">1.9. 后空翻 -&gt; backflip</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#110-shakehand">1.10. 打招呼 -&gt; shakeHand</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#111-twolegstand">1.11. 双腿站立 -&gt; twoLegStand</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#112-canceltwolegstand">1.12. 退出双腿站立 -&gt; cancelTwoLegStand</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#113-attitudecontrol">1.13. 姿态控制 -&gt; attitudeControl</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#114-getquaternion">1.14. 获取机器狗姿态四元数 -&gt; getQuaternion</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#115-getrpy">1.15. 获取机器狗姿态欧拉角 -&gt; getRPY</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#116-getbodyacc">1.16. 获取机器狗加速度 -&gt; getBodyAcc</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#117-getbodygyro">1.17. 获取机器狗角速度 -&gt; getBodyGyro</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#118-getposition">1.18. 获取机器狗上电原点坐标系位置 -&gt; getPosition</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#119-getworldvelocity">1.19. 获取机器狗上电原点坐标系移动速度 -&gt; getWorldVelocity</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#120-getbodyvelocity">1.20. 获取机器狗自身移动速度 -&gt; getBodyVelocity</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#121-getbatterypower">1.21. 获取机器狗电量 -&gt; getBatteryPower</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#122-getcurrentctrlmode">1.22. 获取机器狗控制模式 -&gt; getCurrentCtrlmode</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#123-abad-getlegabadjoint">1.23. 获取机器狗Abad关节角度 -&gt; getLegAbadJoint</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#124-hip-getleghipjoint">1.24. 获取机器Hip关节角度 -&gt; getLegHipJoint</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#125-knee-getlegkneejoint">1.25. 获取机器Knee关节角度 -&gt; getLegKneeJoint</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#126-abad-getlegabadjointvel">1.26. 获取机器狗Abad关节的角速度 -&gt; getLegAbadJointVel</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#127-hip-getleghipjointvel">1.27. 获取机器狗Hip关节角速度 -&gt; getLegHipJointVel</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#128-knee-getlegkneejointvel">1.28. 获取机器狗Knee关节角速度 -&gt; getLegKneeJointVel</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#129-abad-getlegabadjointtorque">1.29. 获取机器狗Abad关节扭矩 -&gt; getLegAbadJointTorque</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#130-hip-getleghipjointtorque">1.30. 获取机器狗相Hip关节扭矩 -&gt; getLegHipJointTorque</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#131-knee-getlegkneejointtorque">1.31. 获取机器狗Knee关节扭矩 -&gt; getLegKneeJointTorque</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#2-motor">2. Motor控制接口函数介绍</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#21-initrobot">2.1 创建连接 -&gt; initRobot</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#22-checkconnection">2.2. 检查通讯状态 -&gt; checkConnection</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#23-sendmotorcmd">2.3 发送电机指令 -&gt; sendMotorCmd</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#24-getquaternion">2.4. 获取机器狗姿态四元数 -&gt; getQuaternion</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#25-getrpy">2.5. 获取机器狗姿态欧拉角 -&gt; getRPY</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#26-getbodyacc">2.6. 获取机器狗加速度 -&gt; getBodyAcc</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#27-getbodygyro">2.7. 获取机器狗角速度 -&gt; getBodyGyro</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#28-getmotorstate">2.8. 获取机器狗电机数据 -&gt; getMotorState</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#29-havemotordata">2.9 电机是否存在数据 -&gt; haveMotorData</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../faq/">FAQ</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../changelog/">Change Log</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">ZsiBot Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Interface</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/zsibot/zsibot_sdk/edit/main/docs/api.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
    <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Breadcrumb Navigation">
        <a href="../architecutre/" class="btn btn-neutral float-left" title="Architecture"><span class="icon icon-circle-arrow-left" aria-hidden="true"></span> Previous</a>
        <a href="../faq/" class="btn btn-neutral float-right" title="FAQ">Next <span class="icon icon-circle-arrow-right" aria-hidden="true"></span></a>
    </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="zsibot-sdk-api-definition"><strong>ZsiBot SDK API Definition</strong></h1>
<h2 id="1-app">1. App 控制接口函数介绍</h2>
<p><strong>class AppFunc</strong></p>
<ul>
<li>该类包含控制机器狗应用功能的方法，用户可以使用这些方法来进行上层控制和获取数据。</li>
</ul>
<h3 id="11-initrobot">1.1. 创建连接 -&gt; initRobot</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">initRobot(std::string &amp; local_ip, int local_port, string&amp; dog_ip = "192.168.234.1")</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">与机器狗建立通信,机器狗端ip默认“192.168.234.1”, 如更改机器人ip，需从该接口传入新ip</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">local_ip:用户主机IP地址,必选项<br> local_port:用户主机端口，必选项<br>dog_ip:机器狗IP地址：可选项</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">通信建立失败时，终端输出失败日志</td>
</tr>
</tbody>
</table>
<h3 id="12-checkconnection">1.2. 检查通讯状态 -&gt; checkConnection</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">checkConnection()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">检查机器人通讯状态</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">类型：bool<br>true:连接正常<br>false:连接失败</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">可做心跳检测</td>
</tr>
</tbody>
</table>
<h3 id="13-standup">1.3. 站起 -&gt; standUP</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">standUP()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">控制机器狗站立</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">类型：uint32_t<br>0:进入状态正常<br>0x3012:电机数据丢失<br>0x3010:电机失能<br>0x3011:电机故障<br>0x3009:电机角度超限<br>0x3007:状态机切换失败<br>0x3013:速度命令过大</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗正常站立，移动中不可直接切入此状态</td>
</tr>
</tbody>
</table>
<h3 id="14-liedown">1.4. 趴下 -&gt; lieDown</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">lieDown()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">控制机器狗站低</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">类型：uint32_t<br>0:进入状态正常<br>0x3012:电机数据丢失<br>0x3010:电机失能<br>0x3011:电机故障<br>0x3009:电机角度超限<br>0x3007:状态机切换失败<br>0x3013:速度命令过大</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗站低，关节锁定，移动中不可直接切入此状态</td>
</tr>
</tbody>
</table>
<h3 id="15-passive">1.5. 阻尼 -&gt; passive</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">passive()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">控制机器狗紧急趴下</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">类型：uint32_t<br>0:进入状态正常<br>0x3012:电机数据丢失<br>0x3010:电机失能<br>0x3011:电机故障<br>0x3009:电机角度超限<br>0x3007:状态机切换失败<br>0x3013:速度命令过大</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗进入阻尼状态，趴下</td>
</tr>
</tbody>
</table>
<h3 id="16-move">1.6. 移动 -&gt; move</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">move(float vx, float vy, float yaw_rate)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">控制机器狗运动</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">vx:前向速度,必选项，不进行移动则传入0<br>vy:侧向速度,必选项，不进行移动则传入0<br>yaw_rate:绕Z轴角速度,必选项，不进行移动则传入0</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">类型：uint32_t<br>0:进入状态正常<br>0x3012:电机数据丢失<br>0x3010:电机失能<br>0x3011:电机故障<br>0x3009:电机角度超限<br>0x3007:状态机切换失败<br>0x3013:速度命令过大</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">仅在机器狗站立状态下切入，控制狗按指定速度运动。 <br>vx范围（-3m/s ~ -0.05m/s; 0.05m/s ~ 3m/s）<br>vy 范围（-1.0m/s ~ -0.1m/s;0.1m/s ~ 1.0m/s）<br>yaw_rate范围（-3.0rad/s ~ -0.02rad/s;0.02rad/s ~ 2.0rad/s）</td>
</tr>
</tbody>
</table>
<h3 id="17-jump">1.7. 原地跳 -&gt; jump</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">jump()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">控制机器狗垂直跳跃</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">类型：uint32_t<br>0:进入状态正常<br>0x3012:电机数据丢失<br>0x3010:电机失能<br>0x3011:电机故障<br>0x3009:电机角度超限<br>0x3007:状态机切换失败<br>0x3013:速度命令过大</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">仅在站立状态下切入，移动中不可切换状态</td>
</tr>
</tbody>
</table>
<h3 id="18-frontjump">1.8. 向前跳 -&gt; frontJump</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">frontJump()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">控制机器狗向前跳</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">类型：uint32_t<br>0:进入状态正常<br>0x3012:电机数据丢失<br>0x3010:电机失能<br>0x3011:电机故障<br>0x3009:电机角度超限<br>0x3007:状态机切换失败<br>0x3013:速度命令过大</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">仅在站立状态下切入，移动中不可切换状态</td>
</tr>
</tbody>
</table>
<h3 id="19-backflip">1.9. 后空翻 -&gt; backflip</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">backflip()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">控制机器狗后空翻</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">类型：uint32_t<br>0:进入状态正常<br>0x3012:电机数据丢失<br>0x3010:电机失能<br>0x3011:电机故障<br>0x3009:电机角度超限<br>0x3007:状态机切换失败<br>0x3013:速度命令过大</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">仅在站立状态下切入，移动中不可切换状态</td>
</tr>
</tbody>
</table>
<h3 id="110-shakehand">1.10. 打招呼 -&gt; shakeHand</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">shakeHand()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">控制机器狗打招呼</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">类型：uint32_t<br>0:进入状态正常<br>0x3012:电机数据丢失<br>0x3010:电机失能<br>0x3011:电机故障<br>0x3009:电机角度超限<br>0x3007:状态机切换失败<br>0x3013:速度命令过大</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">仅在站立状态下切入，移动中不可切换状态</td>
</tr>
</tbody>
</table>
<h3 id="111-twolegstand">1.11. 双腿站立 -&gt; twoLegStand</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">twoLegStand(float vx, float yaw_rate)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">控制机器狗双腿站立</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">vx:前向速度，必选项，不移动则传入0<br>yaw_rate:绕Z轴角速度，必选项，不移动则传入0</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">类型：uint32_t<br>0:进入状态正常<br>0x3012:电机数据丢失<br>0x3010:电机失能<br>0x3011:电机故障<br>0x3009:电机角度超限<br>0x3007:状态机切换失败<br>0x3013:速度命令过大</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">仅在站立状态下切入，移动中不可切入该状态<br>退出双腿站立状态需调用cancelTwoLegStand(),不响应其他接口<br>通过参数可控制狗按指定速度运动。 <br>vx范围（-0.5~-0.2 / 0.2~0.5m / s）<br>yaw_rate范围（-1~-0.2 / 0.2~1.0 rad / s）</td>
</tr>
</tbody>
</table>
<h3 id="112-canceltwolegstand">1.12. 退出双腿站立 -&gt; cancelTwoLegStand</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">cancelTwoLegStand()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">控制机器狗退出双腿站立</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗退出双腿站立状态，机器狗双腿站立状态下切入</td>
</tr>
</tbody>
</table>
<h3 id="113-attitudecontrol">1.13. 姿态控制 -&gt; attitudeControl</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">attitudeControl(float roll_vel, float pitch_vel,float yaw_vel, float height_vel)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">控制机器狗原地扭动和身体高度变化</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">roll_vel: 绕X轴角速度,必选项，不进行控制则传入0<br>pitch_vel: 绕Y轴角速度,必选项，不进行控制则传入0<br>yaw_vel: 绕Z轴角速度,必选项，不进行控制则传入0<br>height_vel: 垂直高度速度,必选项，不进行控制则传入0</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">类型：uint32_t<br>0:进入状态正常<br>0x3012:电机数据丢失<br>0x3010:电机失能<br>0x3011:电机故障<br>0x3009:电机角度超限<br>0x3007:状态机切换失败<br>0x3013:速度命令过大</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗站立状态下切入，控制狗按指定速度原地扭动，身体高度变化。<br> yaw_vel, pitch_vel, roll_vel范围（-0.5rad/s~0.5rad/s）height_vel范围（-0.5m/s-0.5m/s）</td>
</tr>
</tbody>
</table>
<h3 id="114-getquaternion">1.14. 获取机器狗姿态四元数 -&gt; getQuaternion</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getQuaternion()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取机器狗当前姿态四元数</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含4个元素的向量[w, x, y, z]，分别对应四元数的四个分量</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="115-getrpy">1.15. 获取机器狗姿态欧拉角 -&gt; getRPY</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getRPY()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取机器狗当前姿态的欧拉角（滚转角、俯仰角、偏航角）。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 3 个元素的向量[roll, pitch, yaw]，单位为弧度（rad），分别对应绕 X、Y、Z 轴的旋转角</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="116-getbodyacc">1.16. 获取机器狗加速度 -&gt; getBodyAcc</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getBodyAcc()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取机器狗身体的加速度数据（机体坐标系）。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 3 个元素的向量[ax, ay, az]，单位为 m/s²，分别对应 X、Y、Z 轴方向的加速度。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="117-getbodygyro">1.17. 获取机器狗角速度 -&gt; getBodyGyro</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getBodyGyro()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取机器狗身体的角速度数据（机体坐标系）。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 3 个元素的向量[gx, gy, gz]，单位为 rad/s，分别对应 X、Y、Z 轴方向的角速度。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="118-getposition">1.18. 获取机器狗上电原点坐标系位置 -&gt; getPosition</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getPosition()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取机器狗在上电原点坐标系中的位置坐标。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 3 个元素的向量[x, y, z]，单位为米（m），表示当前位置。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="119-getworldvelocity">1.19. 获取机器狗上电原点坐标系移动速度 -&gt; getWorldVelocity</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getWorldVelocity()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取机器狗在上电原点坐标系中的移动速度。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 3 个元素的向量[vx, vy, vz]，单位为米/秒（m/s），分别对应上电原点坐标系 X、Y、Z 轴方向的速度。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="120-getbodyvelocity">1.20. 获取机器狗自身移动速度 -&gt; getBodyVelocity</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getBodyVelocity()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取机器狗在机体坐标系中的移动速度。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 3 个元素的向量[vx, vy, vz]，单位为 m/s，分别对应机体坐标系 X、Y、Z 轴方向的速度。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="121-getbatterypower">1.21. 获取机器狗电量 -&gt; getBatteryPower</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getBatteryPower()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取机器狗电量</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">类型: uint32_t<br>范围: 0-100</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">返回值范围 0-100, 0为无电, 100为满电</td>
</tr>
</tbody>
</table>
<h3 id="122-getcurrentctrlmode">1.22. 获取机器狗控制模式 -&gt; getCurrentCtrlmode</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getCurrentCtrlmode()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取机器狗当前控制模式</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">类型：uint32_t<br>0:阻尼模式，设备未使能<br>1:站立状态/打招呼状态<br>18:移动状态<br>21:动作状态(姿态模式、跳跃模式、双腿站立等)<br>51:趴下状态。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">无</td>
</tr>
</tbody>
</table>
<h3 id="123-abad-getlegabadjoint">1.23. 获取机器狗Abad关节角度 -&gt; getLegAbadJoint</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getLegAbadJoint()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取各条腿的髋关节外展 / 内收关节（Abad Joint）的当前角度。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 4 个元素的向量，分别对应右前、左前、右后、左后的 Abad 关节角度（单位：rad）。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">单位rad， 机器狗身体机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="124-hip-getleghipjoint">1.24. 获取机器Hip关节角度 -&gt; getLegHipJoint</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getLegHipJoint()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取各条腿的髋关节俯仰关节（Hip Joint）的当前角度。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 4 个元素的向量，分别对应右前、左前、右后、左后的 Hip 关节角度（单位：rad）。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">单位rad/s， 机器狗身体机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="125-knee-getlegkneejoint">1.25. 获取机器Knee关节角度 -&gt; getLegKneeJoint</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getLegKneeJoint()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取各条腿的膝关节（Knee Joint）的当前角度。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 4 个元素的向量，分别对应右前、左前、右后、左后的 Knee 关节角度（单位：rad）。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">单位rad/s， 机器狗身体机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="126-abad-getlegabadjointvel">1.26. 获取机器狗Abad关节的角速度 -&gt; getLegAbadJointVel</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getLegAbadJointVel()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取各条腿 Abad 关节的当前角速度。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 4 个元素的向量，单位为 rad/s，分别对应右前、左前、右后、左后的关节角度。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">单位rad/s， 机器狗身体机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="127-hip-getleghipjointvel">1.27. 获取机器狗Hip关节角速度 -&gt; getLegHipJointVel</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getLegHipJointVel()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取各条腿 Hip 关节的当前角速度。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 4 个元素的向量，单位为 rad/s，分别对应右前、左前、右后、左后的节角度。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">单位rad/s， 机器狗身体机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="128-knee-getlegkneejointvel">1.28. 获取机器狗Knee关节角速度 -&gt; getLegKneeJointVel</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getLegKneeJointVel()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取各条腿 Knee 关节的当前角速度。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 4 个元素的向量，单位为 rad/s，分别对应右前、左前、右后、左后的关节角度。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">单位rad/s， 机器狗身体机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="129-abad-getlegabadjointtorque">1.29. 获取机器狗Abad关节扭矩 -&gt; getLegAbadJointTorque</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getLegAbadJointTorque()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取各条腿 Abad 关节的当前输出扭矩。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 4 个元素的向量，单位通常为 N・m，对应顺序同关节扭矩。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">单位通常为 N・m，分别对应右前、左前、右后、左后的 Knee 关节扭矩。</td>
</tr>
</tbody>
</table>
<h3 id="130-hip-getleghipjointtorque">1.30. 获取机器狗相Hip关节扭矩 -&gt; getLegHipJointTorque</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getLegHipJointTorque()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取各条腿 Hip 关节的当前输出扭矩。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 4 个元素的向量，单位通常为 N・m，对应顺序同关节扭矩。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">单位通常为 N・m，分别对应右前、左前、右后、左后的 Knee 关节扭矩。</td>
</tr>
</tbody>
</table>
<h3 id="131-knee-getlegkneejointtorque">1.31. 获取机器狗Knee关节扭矩 -&gt; getLegKneeJointTorque</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getLegKneeJointTorque()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取各条腿 Knee 关节的当前输出扭矩。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 4 个元素的向量，单位通常为 N・m，对应顺序同关节扭矩。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">单位通常为 N・m，分别对应右前、左前、右后、左后的 Knee 关节扭矩。</td>
</tr>
</tbody>
</table>
<h2 id="2-motor">2. Motor控制接口函数介绍</h2>
<p><strong>class MotorFunc</strong></p>
<ul>
<li>该类用于与电机进行交互，包括发送电机命令和获取电机状态。</li>
</ul>
<h3 id="21-initrobot">2.1 创建连接 -&gt; initRobot</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">initRobot(std::string &amp; local_ip, int local_port, string&amp; dog_ip = "192.168.234.1")</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">与机器狗建立通信,机器狗端ip默认“192.168.234.1”, 如更改机器人ip，需从该接口传入新ip</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">local_ip:用户主机IP地址,必选项<br> local_port:用户主机端口，必选项<br>dog_ip:机器狗IP地址：可选项</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">通信建立失败时，终端输出失败日志</td>
</tr>
</tbody>
</table>
<h3 id="22-checkconnection">2.2. 检查通讯状态 -&gt; checkConnection</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">checkConnection()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">检查机器人通讯状态</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">类型：bool<br>true:连接正常<br>false:连接失败</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">可做心跳检测</td>
</tr>
</tbody>
</table>
<h3 id="23-sendmotorcmd">2.3 发送电机指令 -&gt; sendMotorCmd</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">sendMotorCmd(motorCmd&amp; cmd)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">发布电机控制命令</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">motorCmd</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">发送成功返回0，失败返回-1</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">腿部顺序： 右前腿为1号腿， 左前腿为2号腿， 右后腿为3号腿， 左后腿为4号腿；控制命令坐标系为机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<ul>
<li>Cmd 数据协议</li>
</ul>
<pre><code class="language-C++">struct alignas(4) motorCmd  {

  float q_des_abad[4] = {0.0, 0.0, 0.0, 0.0}; // A关节角度指令
  float q_des_hip[4] = {0.0, 0.0, 0.0, 0.0};  // H关节角度指令
  float q_des_knee[4] = {0.0, 0.0, 0.0, 0.0}; // K关节角度指令

  float qd_des_abad[4] = {0.0, 0.0, 0.0, 0.0}; // A关节角速度指令
  float qd_des_hip[4] = {0.0, 0.0, 0.0, 0.0};  // H关节角速度指令
  float qd_des_knee[4] = {0.0, 0.0, 0.0, 0.0}; // K关节角速度指令

  float kp_abad[4] = {0.0, 0.0, 0.0, 0.0}; // A关节Kp值
  float kp_hip[4] = {0.0, 0.0, 0.0, 0.0};  // H关节Kp值
  float kp_knee[4] = {0.0, 0.0, 0.0, 0.0}; // K关节Kp值

  float kd_abad[4] = {0.0, 0.0, 0.0, 0.0}; // A关节Kd值
  float kd_hip[4] = {0.0, 0.0, 0.0, 0.0};  // H关节Kd值
  float kd_knee[4] = {0.0, 0.0, 0.0, 0.0}; // K关节Kd值

  float tau_abad_ff[4] = {0.0, 0.0, 0.0, 0.0}; // A关节扭矩指令
  float tau_hip_ff[4] = {0.0, 0.0, 0.0, 0.0};  // H关节扭矩指令
  float tau_knee_ff[4] = {0.0, 0.0, 0.0, 0.0}; // K关节扭矩指令

};
</code></pre>
<h3 id="24-getquaternion">2.4. 获取机器狗姿态四元数 -&gt; getQuaternion</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getQuaternion()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取机器狗当前姿态四元数</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含4个元素的向量[w, x, y, z]，分别对应四元数的四个分量</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="25-getrpy">2.5. 获取机器狗姿态欧拉角 -&gt; getRPY</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getRPY()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取机器狗当前姿态的欧拉角（滚转角、俯仰角、偏航角）。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 3 个元素的向量[roll, pitch, yaw]，单位为弧度（rad），分别对应绕 X、Y、Z 轴的旋转角</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="26-getbodyacc">2.6. 获取机器狗加速度 -&gt; getBodyAcc</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getBodyAcc()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取机器狗身体的加速度数据（机体坐标系）。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 3 个元素的向量[ax, ay, az]，单位为 m/s²，分别对应 X、Y、Z 轴方向的加速度。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="27-getbodygyro">2.7. 获取机器狗角速度 -&gt; getBodyGyro</h3>
<p><code>此接口从v0.2.6版本开始支持</code></p>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getBodyGyro()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取机器狗身体的角速度数据（机体坐标系）。</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">包含 3 个元素的向量[gx, gy, gz]，单位为 rad/s，分别对应 X、Y、Z 轴方向的角速度。</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">机器狗朝前为X，左侧为Y，垂直向上为Z</td>
</tr>
</tbody>
</table>
<h3 id="28-getmotorstate">2.8. 获取机器狗电机数据 -&gt; getMotorState</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">getMotorState()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">获取机器狗电机数据</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">返回各电机数据</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">单位rad</td>
</tr>
</tbody>
</table>
<ul>
<li>MotorState 数据协议</li>
</ul>
<pre><code class="language-C++">struct alignas(4) motorState {
  // 关节顺序 FL,FR,RL,RR
  float q_abad[4] = {0.0, 0.0, 0.0, 0.0}; // A关节角度
  float q_hip[4] = {0.0, 0.0, 0.0, 0.0};  // H关节角度
  float q_knee[4] = {0.0, 0.0, 0.0, 0.0}; // K关节角度


  float qd_abad[4] = {0.0, 0.0, 0.0, 0.0}; // A关节角速度
  float qd_hip[4] = {0.0, 0.0, 0.0, 0.0};  // H关节角速度
  float qd_knee[4] = {0.0, 0.0, 0.0, 0.0}; // K关节角速度


  float tau_abad_fb[4] = {0.0, 0.0, 0.0, 0.0};// A关节扭矩反馈
  float tau_hip_fb[4] = {0.0, 0.0, 0.0, 0.0};  // H关节扭矩反馈
  float tau_knee_fb[4] = {0.0, 0.0, 0.0, 0.0}; // K关节扭矩反馈
};
</code></pre>
<h3 id="29-havemotordata">2.9 电机是否存在数据 -&gt; haveMotorData</h3>
<table>
<thead>
<tr>
<th style="text-align: center;">函数名</th>
<th style="text-align: left;">haveMotorData()</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">功能概述</td>
<td style="text-align: left;">判断是否获取到电机数据</td>
</tr>
<tr>
<td style="text-align: center;">参数</td>
<td style="text-align: left;">无</td>
</tr>
<tr>
<td style="text-align: center;">返回值</td>
<td style="text-align: left;">返回true or false</td>
</tr>
<tr>
<td style="text-align: center;">备注</td>
<td style="text-align: left;">在下发电机命令之前先判断是否收到电机数据</td>
</tr>
</tbody>
</table>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../architecutre/" class="btn btn-neutral float-left" title="Architecture"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../faq/" class="btn btn-neutral float-right" title="FAQ">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/zsibot/zsibot_sdk" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../architecutre/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../faq/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
